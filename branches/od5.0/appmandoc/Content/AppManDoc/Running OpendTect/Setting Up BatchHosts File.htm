<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="4" MadCap:lastHeight="2524" MadCap:lastWidth="1228">
    <head>
    </head>
    <body>
        <h3>Setting Up <MadCap:keyword term="BatchHosts" />BatchHosts File</h3>
        <p>In order to utilize OpendTect's capability for Multi-Machine Processing (MMP), a <i>BatchHosts</i> file must be used. This file must contain  the list of remote machines (<i>host machines</i> or <i>nodes</i>) and some relevant details about these machines. Two BatchHosts_example files  come with the installation inside the OpendTect <i>data</i> folder, which may be amended for use. OpendTect will use this file to communicate to the remote hosts and launch processes remotely on them. Follow the example file format to add the list of remote machines and their details in the respective fields.</p>
        <p>&#160;</p>
        <p>In order to minimize complications, the Setup Batch Processing tool can be used to create a tailor-made BatchHosts file (via <i>Utilities--&gt; Installation--&gt; Setup Batch Processing...</i>):</p>
        <p>&#160;</p>
        <p>
            <img src="../../Resources/Images/Installation setup batch proc.png" class="PDF_Images" />
        </p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>This tool allows the user to enter the details necessary for functioning MMP. On pressing 'Close', the file is saved. These include:</p>
        <blockquote>
            <p><b>IP address:</b> IP address of the node machine(s)</p>
        </blockquote>
        <blockquote>
            <p><b>Hostname:</b> Hostname of the node machine(s)</p>
        </blockquote>
        <blockquote>
            <p><b>Display name:</b> Free-text field. Text entered here appears in the Multi-Machine Processing window.</p>
        </blockquote>
        <blockquote>
            <p><b>Platform:</b> Select platform type.</p>
        </blockquote>
        <blockquote>
            <p><b>Survey data root:</b> Location of the survey (the path to the survey data root folder from the host machine). It is assumed that this survey folder is in a server which has to be shared and mapped on all host machines to be used for multi-machine processing.</p>
            <blockquote>
                <p><u>Windows:</u> this must be the same folder, but the path may differ per node (ie: if the survey folder is on the C drive on the server e.g. <i>C:\Surveys</i> then map the <i>C</i> drive from this machine to other host machines by choosing an available drive letter ( like <i>C:, D: S:</i> etc). So the survey folder now becomes <i>S:\Surveys</i> or <i>F:\Surveys</i> on each of the machines depending on drive letter that is used.)</p>
                <p>&#160;</p>
                <p><u>Linux:</u> this must reflect the same folder via the same (absolute) path.</p>
                <p>&#160;</p>
            </blockquote>
        </blockquote>
        <blockquote>
            <p><b>Advanced Settings:</b> Here you may change the first port value (in the case that it is blocked/in use). Linux users may decide to change the shell command from the default <i>ssh</i> to <i>rsh</i>. The <i>Nice level</i> sets the priority on the host machines, 19 being nicest and 1 being least nice). Finally, the Default Data Root can be set per platform:</p>
        </blockquote>
        <blockquote>
            <p>
                <img src="../../Resources/Images/Installation setup batch proc_adv.png" class="PDF_Images" />
            </p>
            <p>&#160;</p>
        </blockquote>
        <blockquote>
            <p>
                <img src="../../Resources/Images/addnew.png" class="Icons" /><b>Add</b> new host.</p>
        </blockquote>
        <blockquote>
            <p>
                <img src="../../Resources/Images/stop.png" class="Icons" /><b>Remove</b> selected host.</p>
        </blockquote>
        <blockquote>
            <p>
                <img src="../../Resources/Images/uparrow.png" class="Icons" />
                <img src="../../Resources/Images/downarrow.png" class="Icons" /><b>Move</b> host up or down.</p>
        </blockquote>
        <blockquote>
            <p>
                <img src="../../Resources/Images/checkgreen.png" class="Icons" /><b>Test hosts</b>. Will perform tests to ensure that the server and nodes can communicate to the necessary extent to perform the MMP. (ie: backward/forward translation of hostnames to IP v4 addresses):</p>
            <p>&#160;</p>
            <p>
                <img src="../../Resources/Images/Installation setup batch proc test hosts.png" class="General_Image" />
            </p>
        </blockquote>
        <p>&#160;</p>
        <p>Example BatchHosts file (showing just the first four entries from the file created in the setup above):</p>
        <blockquote>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">dTect V5.0</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Batch Processing Hosts</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Tue 07 Oct 2014, 08:52:48</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">!</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Remote login command: ssh</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Nice level: 19</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">First port: 37500</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Default Unix Data Root:</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Default Windows Data Root:</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.0.IP Address: 192.168.0.9</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.0.Hostname: dgb9</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.0.Display Name: Bart's box         (1x Core2Quad Q9550 4x 2.83 GHz, 64 bits, Windows 8)</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.0.Platform: win64</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.0.Data Root: P;\ODData</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.1.IP Address: 192.168.0.14</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.1.Hostname: dgb14</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.1.Display Name: Arnaud's laptop   (1x Corei5 M520     4x 2.40 GHz, 64 bits, Windows 7)</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.1.Platform: win64</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.1.Data Root: P;\ODData</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.2.IP Address: 192.168.0.19</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.2.Hostname: dgb19</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.2.Display Name: Farrukh's laptop  (1x Corei5 M520     2x 2.40 GHz, 64 bits, Windows 7)</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.2.Platform: win64</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.2.Data Root: P;\ODData</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.3.IP Address: 192.168.0.20</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.3.Hostname: dgb20</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.3.Display Name: Eric's box        (2x Xeon X5650  2x6x2x 2.67 GHz, 64 bits, openSUSE 13.1)</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.3.Platform: lux64</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.3.Data Root: /auto/d46/ODData</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.4.IP Address: 192.168.0.25</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.4.Hostname: dgb25</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.4.Display Name: Farrukh's box     (1x Xeon E5-2620  6x2x 2.00 GHz, 64 bits, openSUSE 12.2)</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.4.Platform: lux64</p>
            <p style="font-size: 10pt;font-family: 'Miriam Fixed';">Host.4.Data Root: /auto/d46/ODData</p>
            <p style="font-size: 10pt; font-family: 'Miriam Fixed';">!</p>
        </blockquote>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>For more information on this topic, please refer to <a href="http://www.youtube.com/channel/UCiaLX2p5rCcovOK_NAwpaOQ" target="_blank">OpendTect's YouTube Channel</a> where you may find the webinar: <a href="https://www.youtube.com/watch?v=9bEXxZ0RyxU" target="_blank">Multi-Machine Processing Setup</a>.</p>
        <p>Alternatively, refer to the webinar on this page: <a href="http://opendtect.org/index.php/support/tutorials/tutorial-videos/webinars" target="_blank">http://opendtect.org/index.php/support/tutorials/tutorial-videos/webinars</a></p>
    </body>
</html>